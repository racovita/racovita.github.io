
{% assign currentDate = "now" | date: "%Y-%m-%d" %}
{% assign posts = site.posts | where:"lang", page.lang %}

{% assign hasUpcoming = false %}
{% for post in posts %}
  {% assign postDate = post.date | date: "%Y-%m-%d" %}
  {% if postDate >= currentDate %}
    {% assign hasUpcoming = true %}
  {% endif %}
{% endfor %}

{% if hasUpcoming %}
<h2>{{ site.data.xlate.upcoming[page.lang] }}</h2>

<ul>
{% for post in posts %}
  {% assign postDate = post.date | date: "%Y-%m-%d" %}
  {% if postDate >= currentDate %}
    <li>
        {{ post.date | date: site.languages[page.lang].date_format }} Â» <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
    </li>
  {% endif %}
{% endfor %}
</ul>

{% endif %}